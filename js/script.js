"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var t=document.querySelector(".catalog"),e=document.querySelectorAll(".product"),n=document.createDocumentFragment(),l=void 0,o=e.length,c=s(t).top+t.offsetHeight;e.forEach(function(e,t){15<t||(l=e.cloneNode(!0),n.appendChild(l))}),console.log(n);var r=new PerfectScrollbar(".catalog",_defineProperty({wheelSpeed:.5,wheelPropagation:!0,scrollYMarginOffset:50},"wheelPropagation",!0));function s(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}t.addEventListener("ps-scroll-y",function(e){s(document.querySelectorAll(".product")[document.querySelectorAll(".product").length-1]).top<=c&&(console.log(!0),t.insertBefore(n,t.lastElementChild.previousSibling),o!=document.querySelectorAll(".product").length&&(r.update(),o=document.querySelectorAll(".product").length))})}(),function(){var n=document.querySelectorAll(".games__item"),t=document.querySelector(".filter-game"),l=document.querySelector(".filter-bots"),e=document.querySelector(".filter-price"),o=document.querySelector(".filter-bots__drop"),c=document.querySelectorAll(".filter-bots__cell"),r=document.querySelector(".filter-resize"),s=document.querySelector(".catalog"),a=document.querySelector(".all-sale");n.forEach(function(e){e.addEventListener("click",function(e){!function(e){for(var t=e.target;!t.classList.contains("games__item");)t=t.parentNode;t.classList.contains("active")||(n.forEach(function(e){e.classList.contains("active")&&(e.classList.remove("active"),t.classList.add("active"))}),t.classList.contains("cs-go")?a.classList.add("hidden"):a.classList.remove("hidden"))}(e)})}),t.addEventListener("click",function(e){t.classList.toggle("active")}),l.addEventListener("click",function(e){e.target.matches(".filter-bots, .filter-bots__text")&&l.classList.toggle("active")}),document.addEventListener("click",function(e){var t=e.target;l.classList.contains("active")&&(t.matches(".filter-bots, .filter-bots *")||l.classList.remove("active"))}),e.addEventListener("click",function(e){for(var t=e.target;!t.classList.contains("filter-price");)t=t.parentNode;t.classList.contains("up")?(t.classList.remove("up"),t.classList.add("down")):(t.classList.remove("down"),t.classList.add("up"))}),o.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("filter-bots__all"))e.preventDefault(),c.forEach(function(e){e.classList.remove("active")});else if(t.matches(".filter-bots__cell, .filter-bots__cell *")){for(;!t.classList.contains("filter-bots__cell");)t=t.parentNode;t.classList.toggle("active")}}),r.addEventListener("click",function(e){for(var t=e.target;!t.classList.contains("filter-resize");)t=t.parentNode;t.classList.contains("big")?(t.classList.remove("big"),s.classList.remove("big"),t.classList.add("small"),s.classList.add("small")):(t.classList.remove("small"),t.classList.add("big"),s.classList.remove("small"),s.classList.add("big"))})}(),function(){var n=document.querySelector(".lang__current"),l=document.querySelector(".lang__list"),o=document.querySelectorAll(".lang__option");n.addEventListener("click",function(e){l.classList.remove("close")}),o.forEach(function(e){e.addEventListener("click",function(e){var t=e.target;t.classList.contains("current")||(o.forEach(function(e){e.classList.remove("current")}),t.classList.add("current"),n.textContent=t.textContent),l.classList.add("close")})}),document.addEventListener("click",function(e){var t=e.target;l.classList.contains("close")||t.matches(".lang, .lang *")||l.classList.add("close")})}(),function(){var e=document.querySelector(".filter-reload"),t=document.querySelector(".loader");e.addEventListener("click",function(e){t.classList.remove("hidden"),setTimeout(function(){t.classList.add("hidden")},2500)})}(),document.querySelectorAll(".main-nav__link").forEach(function(e){e.addEventListener("click",function(e){for(var t=e.target;!t.classList.contains("main-nav__link");)t=t.parentNode;e.preventDefault(),document.querySelector(t.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start"})})}),function(){var i=document.querySelector("#inpun-min-id"),u=document.querySelector("#inpun-max-id"),d=document.querySelector(".slider__btn-min"),f=document.querySelector(".slider__btn-max"),v=document.querySelectorAll(".slider__step"),p=document.querySelector(".slider__line"),m=v[0].offsetWidth;function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}var o,c,g=(o=v,(c=[]).push(0),o.forEach(function(e,t){var n=t,l=++n*e.offsetWidth-5;t===o.length-1&&(l=n*e.offsetWidth-d.offsetWidth),c.push(l)}),c),y=0,h=g.length-1;function L(n){return g.forEach(function(e,t){e!=parseInt(n)||(n=t)}),n}function e(c){var r=void 0,l=void 0,s=void 0;function t(e){var n=e-s-r.left;c.classList.contains("slider__btn-max")?n<parseInt(d.style.left)&&(n=parseInt(d.style.left)):n<0&&(n=0);var l,o,t=p.offsetWidth-c.offsetWidth;c.classList.contains("slider__btn-min")?n>parseInt(f.style.left)&&(n=parseInt(f.style.left)):t<n&&(n=t),g.forEach(function(e,t){n<=g[1]-m/2&&(c.style.left="0px"),e-m/2<n&&n<=g[t+1]-m/2&&(c.style.left=e+"px"),n>g[g.length-1]-m/2&&(c.style.left=g[g.length-1]+"px")}),l=d.style.left,o=f.style.left,l=L(l),o=L(o),l===y&&o===y&&(d.style.zIndex=4,f.style.zIndex=5),l===h&&o===h&&(f.style.zIndex=4,d.style.zIndex=5),v.forEach(function(e,t){e.style.zIndex=0,(t<l||o<=t)&&(e.style.zIndex=3)}),i.value=L(d.style.left),u.value=L(f.style.left)}function o(e){t(e.clientX)}function a(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)}c.onmousedown=function(e){if(e.target.closest(".slider__btn"))return t=e.clientX,n=e.clientY,l=c.getBoundingClientRect(),s=t-l.left,n-l.top,r=p.getBoundingClientRect(),document.addEventListener("mousemove",o),document.addEventListener("mouseup",a),!1;var t,n}}d.style.left=g[1]+"px",f.style.left=g[6]+"px",d.ondragstart=function(){return!1},f.ondragstart=function(){return!1},e(d),e(f),i.addEventListener("input",function(e){i.value>g.length-1&&(i.value=u.value),i.value>u.value&&1<=u.value.length&&t(i.value)&&(i.value=u.value),1<=i.value.length&&!t(i.value)&&(i.value=g[0]),g.forEach(function(e,t){i.value==t&&(d.style.left=e+"px"),i.value.length<1&&(d.style.left=g[0]+"px")}),v.forEach(function(e,t){e.style.zIndex=0,(t<i.value&&1<=i.value.length||t>=u.value&&1<=u.value.length)&&(e.style.zIndex=3)})}),u.addEventListener("input",function(e){u.value>g.length-1&&(u.value=g.length-1),u.value<i.value&&1<=u.value.length&&(u.value=i.value),1<=u.value.length&&!t(u.value)&&(u.value=g.length-1),g.forEach(function(e,t){u.value==t&&(f.style.left=e+"px"),u.value.length<1&&(f.style.left=g[g.length-1]+"px")}),v.forEach(function(e,t){e.style.zIndex=0,(t<i.value&&1<=i.value.length||t>=u.value&&1<=u.value.length)&&(e.style.zIndex=3)})}),i.addEventListener("blur",function(e){e.target.value.length<1&&(e.target.value=0)}),u.addEventListener("blur",function(e){e.target.value.length<1&&(e.target.value=g.length-1)})}(),function(){function r(){var e,t,n,l,o,c=document.querySelectorAll(".statistics__value");e=c[0],t=e.getBoundingClientRect(),n=document.documentElement.clientHeight,l=0<t.top&&t.top<n,o=t.bottom<n&&0<t.bottom,(l||o)&&(c.forEach(function(e){var t=1,n=parseInt(e.textContent),l=Math.round(n/500),o=setInterval(function(){t<=n?e.textContent=t+" $":(e.textContent=n+" $",clearInterval(o)),t+=l},1)}),window.removeEventListener("scroll",r))}window.addEventListener("scroll",r),r()}(),function(){var n=this,l=document.querySelector(".catalog"),o=document.querySelector(".pop-up"),c=document.querySelector(".filters"),r=void 0,s=void 0,a=void 0,i=void 0;function u(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}var d={bs:"Battle-Scarred",ww:"Well-Worn",ft:"Field-Tested",mw:"Minimal Wear",fn:"Factory New"};var f=null;l.addEventListener("mouseover",function(e){if(!f){var t=e.target;if(!t.matches(".pop-up, .pop-up *")&&t.closest(".product")){for(;t!=n&&!t.classList.contains("product");)t=t.parentNode;t!=n&&(r=u(f=t),s=u(l),a=r.top+t.offsetHeight,i=s.top+l.offsetHeight,o.style.top=i<a?"100%":r.top-s.top+t.offsetHeight+c.offsetHeight+"px",o.style.left=r.left-s.left+t.offsetWidth/2+"px",function(e,t){t.querySelector(".pop-up__model-quality").textContent=d[e.querySelector(".product__quality").textContent],e.classList.contains("block")?t.querySelector(".pop-up__block").style.display="block":t.querySelector(".pop-up__block").style.display="none",e.querySelector(".product__time")?(t.querySelector(".pop-up__time").style.display="block",t.querySelector(".pop-up__time").textContent=e.querySelector(".product__time").textContent.replace(/:/g," : ")):t.querySelector(".pop-up__time").style.display="none",e.querySelector(".product__stattrack")?t.querySelector(".pop-up__stattrack").style.display="flex":t.querySelector(".pop-up__stattrack").style.display="none",t.querySelectorAll(".pop-up__sticker").forEach(function(e){e.remove()});var n=document.createDocumentFragment();e.querySelectorAll(".product__sticker").forEach(function(e){var t=e.cloneNode(!0);t.classList.remove("product__sticker"),t.classList.add("pop-up__sticker"),n.appendChild(t)}),t.querySelector(".pop-up__stickers").appendChild(n)}(t,o),o.classList.remove("hidden"))}}}),l.addEventListener("mouseout",function(e){if(f){var t=e.relatedTarget;if(t)for(;t;){if(t==f)return;t=t.parentNode}f.classList.remove("inspect"),o.classList.add("hidden"),f=null}}),l.addEventListener("contextmenu",function(e){if(e.preventDefault(),e.target.matches(".product, .product *")){for(var t=e.target;!t.classList.contains("product");)t=t.parentNode;t.classList.toggle("inspect")}}),l.addEventListener("ps-scroll-y",function(e){o.classList.add("hidden")})}();